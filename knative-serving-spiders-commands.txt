### show knative running
kubectl get pod -n knative-serving


### create sunshineexplore service
kn service create sunshineexplore --image=whitneyl042/rainbows:v1


### describe sunshineexplore service
kn service describe sunshineexplore


### show knative serving yaml
cat knative-serving.yaml


### get all sunshineexplore Kubernetes resources
kubectl get all | grep sunshineexplore


### show pods scaling to zero
kubectl get pods


### watch the pods come up!
watch kubectl get pods


### create a custom route for the spiders website
kn service update sunshineexplore --image whitneyl042/rainbows:v2 --tag sunshineexplore-00002=spiders --traffic sunshineexplore-00001=100


### send 10% of traffic to newest revision
kn service update sunshineexplore --image whitneyl042/rainbows:v3 --traffic sunshineexplore-00001=90 --traffic @latest=10


### describe sunshineexplore service
kn service describe sunshineexplore


### watch sunshineexplore service
watch kn service describe sunshineexplore


### gradually rollout 100% of traffic to newest revision
kn service update sunshineexplore --traffic @latest=100 --annotation-service serving.knative.dev/rollout-duration="60s"


### watch sunshineexplore service
watch kn service describe sunshineexplore


### show serving yaml
kn service describe sunshineexplore -o yaml


### rollback to last safe version
kn service update sunshineexplore --traffic sunshineexplore-00001=100 


### rollout new grinning spiders image (rollout will be gradual)
kn service update sunshineexplore --image=whitneyl042/rainbows:v4 --traffic @latest=100


### get all sunshineexplore Kubernetes resources again to show all K8s resources associated w each revision
kubectl get all | grep sunshineexplore














apiVersion: serving.knative.dev/v1
kind: Service
metadata:
  name: sunshineexplore
  namespace: explore
  template:
    spec:
      containers:
      - image: whitneyl042/rainbows:v1
















